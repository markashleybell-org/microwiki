var MicroWiki=function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=30)}({15:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function o(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}l((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}};Object.defineProperty(e,"__esModule",{value:!0});var i,s,o=n(16);function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}function u(t,e,n){return Array.from({length:n},(function(n,r){return r*e+t}))}!function(t){t[t.ENTER=13]="ENTER",t[t.TAB=9]="TAB",t[t.BACKSPACE=8]="BACKSPACE",t[t.HYPHEN=45]="HYPHEN",t[t.HOME=35]="HOME",t[t.END=36]="END",t[t.LEFT_ARROW=37]="LEFT_ARROW",t[t.UP_ARROW=38]="UP_ARROW",t[t.RIGHT_ARROW=39]="RIGHT_ARROW",t[t.DOWN_ARROW=40]="DOWN_ARROW"}(i||(i={})),function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN"}(s||(s={}));var c="",p=[i.ENTER,i.TAB,i.BACKSPACE,i.HYPHEN,i.HOME,i.END,i.LEFT_ARROW,i.UP_ARROW,i.RIGHT_ARROW,i.DOWN_ARROW],d=u(48,1,10).concat(u(65,1,26)).concat(p),g='<div class="{{globalCssClassPrefix}}{{#containerClasses}} {{containerClasses}}{{/containerClasses}}">\n    {{#tags}}{{> item}}{{/tags}}\n    <input class="{{globalCssClassPrefix}}-data" type="hidden" name="{{hiddenInput.name}}" id="{{hiddenInput.id}}" value="{{hiddenInput.value}}">\n    <div class="{{globalCssClassPrefix}}-input-container">\n        <input class="{{globalCssClassPrefix}}-input" type="text"{{#placeholder}} placeholder="{{placeholder}}"{{/placeholder}}>\n        <div class="{{globalCssClassPrefix}}-suggestions {{globalCssClassPrefix}}-suggestions-hidden"></div>\n    </div>\n</div>',h='<div class="{{globalCssClassPrefix}}-tag" data-id="{{id}}" data-label="{{label}}">{{label}} <i class="fa fa-times"></i></div>',f='<div class="{{globalCssClassPrefix}}-suggestion" data-id="{{id}}" data-label="{{label}}">{{label}}</div>',b=function(){function t(t){var e=this;this.getId=t.getId,this.getLabel=t.getLabel,this.newItemFactory=t.newItemFactory,this.data=t.data.map((function(t){return{id:e.getId(t),label:e.getLabel(t)}}));var n=t.input;if(this.enableSuggestions=!1!==t.enableSuggestions,this.minCharsBeforeShowingSuggestions=t.minCharsBeforeShowingSuggestions||2,this.allowNewTags=!1!==t.allowNewTags,this.allowNewTags&&!this.newItemFactory)throw Error("A newItemFactory function must be specified if allowNewTags is true");this.tagDataSeparator=t.tagDataSeparator||"|",this.validTagCharacterKeyCodes=t.validTagCharacterKeyCodes||d,this.onTagAdded=t.onTagAdded||l,this.onTagRemoved=t.onTagRemoved||l,this.onTagsChanged=t.onTagsChanged||l,this.globalCssClassPrefix=t.globalCssClassPrefix||"mab-bootstrap-taginput",this.placeholderText=n.getAttribute("placeholder"),this.htmlTemplate=(t.htmlTemplate||g).trim(),this.itemTemplate=(t.itemTemplate||h).trim(),this.suggestionTemplate=(t.suggestionTemplate||f).trim(),o.parse(this.htmlTemplate),o.parse(this.itemTemplate),o.parse(this.suggestionTemplate),this.warningClass=this.globalCssClassPrefix+"-tag-warning",this.narrowedInputClass=this.globalCssClassPrefix+"-input-narrowed",this.suggestionDropdownClass=this.globalCssClassPrefix+"-suggestions",this.suggestionDropdownHiddenClass=this.globalCssClassPrefix+"-suggestions-hidden",this.suggestionClass=this.globalCssClassPrefix+"-suggestion",this.selectedSuggestionClass=this.suggestionClass+"-selected";var u=n.value.split(this.tagDataSeparator);this.currentSelection=this.data.filter((function(t){return u.includes(t.id)}));var p={containerClasses:n.classList.value,globalCssClassPrefix:this.globalCssClassPrefix,tags:this.currentSelection,hiddenInput:{name:n.name,id:n.id,value:n.value},placeholder:this.placeholderText},b={item:this.itemTemplate},v=o.render(this.htmlTemplate,p,b),m=document.createElement("template");function C(t){var e,n;return n="input[type=text]",((e=t).matches||e.webkitMatchesSelector).call(e,n)}m.insertAdjacentHTML("afterbegin",v),this.tagInputContainer=m.firstChild.cloneNode(!0),this.tagInputHiddenInput=this.tagInputContainer.querySelector("[type=hidden]"),this.tagInputTextInput=this.tagInputContainer.querySelector("[type=text]"),this.tagInputSuggestionDropdown=this.tagInputContainer.querySelector("."+this.suggestionDropdownClass),m.remove(),n.insertAdjacentElement("afterend",this.tagInputContainer),n.remove(),this.tagInputContainer.addEventListener("click",(function(t){var n=t.target;n.classList.contains("fa-times")&&(t.stopPropagation(),e.removeTag(n.parentElement))}),!1),this.enableSuggestions&&(this.tagInputSuggestionDropdown.addEventListener("click",(function(t){return r(e,void 0,void 0,(function(){var e,n;return a(this,(function(r){switch(r.label){case 0:return e=t.target,n=e.getAttribute("data-label"),[4,this.addTag(n)];case 1:return r.sent(),[2]}}))}))})),this.tagInputTextInput.addEventListener("keyup",(function(t){if(t.keyCode===i.UP_ARROW||t.keyCode===i.DOWN_ARROW){var n=t.keyCode===i.DOWN_ARROW?s.DOWN:s.UP,r=e.tagInputSuggestionDropdown.querySelector("."+e.selectedSuggestionClass);if(r){var a=n===s.DOWN?r.nextElementSibling:r.previousElementSibling;if(!a){var l=e.tagInputSuggestionDropdown.querySelectorAll("."+e.suggestionClass);a=n===s.DOWN?l[0]:l[l.length-1]}r.classList.remove(e.selectedSuggestionClass),a.classList.add(e.selectedSuggestionClass),e.tagInputTextInput.value=a.getAttribute("data-label")}else if(n===s.DOWN){var u=e.tagInputSuggestionDropdown.firstChild;u.classList.add(e.selectedSuggestionClass),e.tagInputTextInput.value=u.getAttribute("data-label")}}else if(e.validTagCharacterKeyCodes.includes(t.keyCode)){var c=e.getTextInputValue();if(c.length>=e.minCharsBeforeShowingSuggestions){var p=e.data.filter((function(t){return!e.currentSelection.includes(t)})).filter((function(t){return t.label.indexOf(c)>-1})).map((function(t){var n={globalCssClassPrefix:e.globalCssClassPrefix,id:t.id,label:t.label};return o.render(e.suggestionTemplate,n)}));p.length&&(e.tagInputSuggestionDropdown.innerHTML=p.join(""),e.showSuggestions())}else e.hideSuggestions()}}))),this.tagInputTextInput.addEventListener("keydown",(function(t){return r(e,void 0,void 0,(function(){var e,n,r;return a(this,(function(a){switch(a.label){case 0:return this.validTagCharacterKeyCodes.includes(t.keyCode)||t.preventDefault(),e=this.getTextInputValue(),t.keyCode!==i.ENTER||e===c?[3,2]:(t.preventDefault(),t.stopPropagation(),[4,this.addTag(e)]);case 1:a.sent(),a.label=2;case 2:return t.keyCode===i.BACKSPACE&&e===c&&(n=this.tagInputContainer.querySelectorAll("."+this.globalCssClassPrefix+"-tag")).length&&(r=n[n.length-1],this.removeTag(r)),[2]}}))}))})),this.tagInputTextInput.addEventListener("focus",(function(t){C(t.target)&&e.showTagInput()})),this.tagInputTextInput.addEventListener("blur",(function(t){C(t.target)&&(e.clearTagInput(),e.currentSelection.length&&e.hideTagInput())})),this.tagInputContainer.addEventListener("click",(function(t){e.focusTagInput()})),this.getHiddenInputValue()!==c&&this.hideTagInput()}return t.prototype.getValue=function(){return this.getHiddenInputValue()},t.prototype.addTag=function(t){return r(this,void 0,void 0,(function(){var e,n,r,i,s,l,u=this;return a(this,(function(a){switch(a.label){case 0:return(e=this.currentSelection.find((function(e){return e.label===t})))?[3,3]:(n=this.data.find((function(e){return e.label===t})))?[3,2]:this.allowNewTags?[4,this.newItemFactory(t)]:[2];case 1:r=a.sent(),n={id:this.getId(r),label:this.getLabel(r)},this.data.push(n),a.label=2;case 2:return this.currentSelection.push(n),i={id:n.id,label:n.label,globalCssClassPrefix:this.globalCssClassPrefix},s=o.render(this.itemTemplate,i),this.tagInputHiddenInput.insertAdjacentHTML("beforebegin",s),this.clearTagInput(),this.hideSuggestions(),this.updateHiddenInput(this.currentSelection),this.onTagAdded(this,[n],this.currentSelection),this.onTagsChanged(this,[n],[],this.currentSelection),[3,4];case 3:(l=this.tagInputContainer.querySelector("."+this.globalCssClassPrefix+'-tag[data-label="'+e.label+'"]')).classList.add(this.warningClass),this.clearTagInput(),setTimeout((function(){l.classList.remove(u.warningClass)}),1500),a.label=4;case 4:return[2]}}))}))},t.prototype.getTextInputValue=function(){return this.tagInputTextInput.value.trim()},t.prototype.getHiddenInputValue=function(){return this.tagInputHiddenInput.value.trim()},t.prototype.showTagInput=function(){this.placeholderText&&this.tagInputTextInput.setAttribute("placeholder",this.placeholderText),this.tagInputTextInput.classList.remove(this.narrowedInputClass)},t.prototype.focusTagInput=function(){this.tagInputTextInput.focus()},t.prototype.hideTagInput=function(){this.getTextInputValue()===c&&(this.tagInputTextInput.setAttribute("placeholder",c),this.tagInputTextInput.classList.add(this.narrowedInputClass))},t.prototype.clearTagInput=function(){this.tagInputTextInput.value=null},t.prototype.updateHiddenInput=function(t){this.tagInputHiddenInput.value=t.map((function(t){return t.id})).join(this.tagDataSeparator)},t.prototype.showSuggestions=function(){this.tagInputSuggestionDropdown.classList.remove(this.suggestionDropdownHiddenClass)},t.prototype.hideSuggestions=function(){this.tagInputSuggestionDropdown.classList.add(this.suggestionDropdownHiddenClass)},t.prototype.removeTag=function(t){var e=t.getAttribute("data-label"),n=this.currentSelection.findIndex((function(t){return t.label===e})),r=this.currentSelection[n];this.currentSelection.splice(n,1),t.remove(),this.updateHiddenInput(this.currentSelection),this.onTagRemoved(this,[r],this.currentSelection),this.onTagsChanged(this,[],[r],this.currentSelection)},t}();e.TagInput=b},16:function(t,e){t.exports=Mustache},17:function(t,e,n){var r=n(18);"string"==typeof r&&(r=[[t.i,r,""]]);var a={insert:"head",singleton:!1};n(20)(r,a);r.locals&&(t.exports=r.locals)},18:function(t,e,n){(t.exports=n(19)(!1)).push([t.i,".mab-bootstrap-taginput {\r\n    display: flex;\r\n    cursor: text;\r\n}\r\n\r\n.mab-bootstrap-taginput.form-control {\r\n    line-height: normal;\r\n}\r\n\r\n.mab-bootstrap-taginput-tag {\r\n    color: #fff;\r\n    background-color: #007bff;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    padding: .25em .4em;\r\n    font-size: 90%;\r\n    font-weight: 700;\r\n    white-space: nowrap;\r\n    border-radius: .25rem;\r\n    margin-right: 5px;\r\n    transition: background-color 1600ms ease-in;\r\n}\r\n\r\n.mab-bootstrap-taginput-tag .fa {\r\n    margin-left: 5px;\r\n    font-size: 80%;\r\n    cursor: pointer;\r\n}\r\n\r\n.mab-bootstrap-taginput-tag-warning {\r\n    background-color:#cc0000;\r\n    transition: none;\r\n}\r\n\r\n.mab-bootstrap-taginput-input {\r\n    border: solid 1px transparent;\r\n    outline: none;\r\n    width: 100px;\r\n}\r\n\r\n.mab-bootstrap-taginput-input.mab-bootstrap-taginput-input-narrowed {\r\n    width: 1px;\r\n}\r\n\r\n.mab-bootstrap-taginput-input-container {\r\n    position: relative;\r\n}\r\n\r\n.mab-bootstrap-taginput-suggestions {\r\n    position: absolute;\r\n    top: 30px;\r\n    left: 0;\r\n    min-width: 200px;\r\n    min-height: 30px;\r\n    background-color: #fff;\r\n    border: solid 1px #e0e0e0;\r\n    border-radius: 3px;\r\n    padding: 3px 0;\r\n    box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.25);\r\n    z-index: 10000;\r\n}\r\n\r\n.mab-bootstrap-taginput-suggestions-hidden {\r\n    display: none;\r\n}\r\n\r\n.mab-bootstrap-taginput-suggestion {\r\n    padding: 5px 10px;\r\n    cursor: pointer;\r\n}\r\n\r\n.mab-bootstrap-taginput-suggestion-selected,\r\n.mab-bootstrap-taginput-suggestion:hover {\r\n    background-color: #007bff;\r\n    color: #fff;\r\n}\r\n",""])},19:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var a=(s=r,o=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(l," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")}));return[n].concat(i).concat([a]).join("\n")}var s,o,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var s=0;s<t.length;s++){var o=t[s];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="(".concat(o[2],") and (").concat(n,")")),e.push(o))}},e}},20:function(t,e,n){"use strict";var r,a={},i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},s=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function o(t,e){for(var n=[],r={},a=0;a<t.length;a++){var i=t[a],s=e.base?i[0]+e.base:i[0],o={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(o):n.push(r[s]={id:s,parts:[o]})}return n}function l(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=a[r.id],s=0;if(i){for(i.refs++;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(b(r.parts[s],e))}else{for(var o=[];s<r.parts.length;s++)o.push(b(r.parts[s],e));a[r.id]={id:r.id,refs:1,parts:o}}}}function u(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var r=n.nc;r&&(t.attributes.nonce=r)}if(Object.keys(t.attributes).forEach((function(n){e.setAttribute(n,t.attributes[n])})),"function"==typeof t.insert)t.insert(e);else{var a=s(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,p=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function d(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=p(e,a);else{var i=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function g(t,e,n){var r=n.css,a=n.media,i=n.sourceMap;if(a&&t.setAttribute("media",a),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,f=0;function b(t,e){var n,r,a;if(e.singleton){var i=f++;n=h||(h=u(e)),r=d.bind(null,n,i,!1),a=d.bind(null,n,i,!0)}else n=u(e),r=g.bind(null,n,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=o(t,e);return l(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var s=n[i],u=a[s.id];u&&(u.refs--,r.push(u))}t&&l(o(t,e),e);for(var c=0;c<r.length;c++){var p=r[c];if(0===p.refs){for(var d=0;d<p.parts.length;d++)p.parts[d]();delete a[p.id]}}}}},30:function(t,e,n){"use strict";n.r(e);for(var r=n(4),a=(n(17),document.getElementsByClassName("tag-input-merge")),i=0;i<a.length;i++)new r.TagInput({input:a[i],data:_ALL_TAGS_MERGE||[],getId:function(t){return t.id},getLabel:function(t){return t.label},allowNewTags:!1})},4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15);e.TagInput=r.TagInput}});
//# sourceMappingURL=tagmanager.js.map